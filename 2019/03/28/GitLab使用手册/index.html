<!DOCTYPE html>












  


<html class="theme-next mist use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">


























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=6.7.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.7.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.7.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.7.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.7.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '6.7.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="Git简介 git是一个分布式版本控制软件，最初由林纳斯·托瓦兹创作，于2005年以GPL发布。最初目的是为更好地管理Linux内核开发而设计。git手册progit_v2.1.17.pdf 主要功能git是用于Linux内核开发的版本控制工具。与CVS、Subversion一类的集中式版本控制工具不同，它采用了分布式版本库的作法，不需要服务器端软件，就可以运作版本控制，使得源代码的发布和交流极其">
<meta name="keywords" content="git, gitlab">
<meta property="og:type" content="article">
<meta property="og:title" content="GitLab使用手册">
<meta property="og:url" content="http://xiuyuan.wang/2019/03/28/GitLab使用手册/index.html">
<meta property="og:site_name" content="倦鸟归巢">
<meta property="og:description" content="Git简介 git是一个分布式版本控制软件，最初由林纳斯·托瓦兹创作，于2005年以GPL发布。最初目的是为更好地管理Linux内核开发而设计。git手册progit_v2.1.17.pdf 主要功能git是用于Linux内核开发的版本控制工具。与CVS、Subversion一类的集中式版本控制工具不同，它采用了分布式版本库的作法，不需要服务器端软件，就可以运作版本控制，使得源代码的发布和交流极其">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://xiuyuan.wang/2019/03/28/GitLab使用手册/D34446E965701FD774DE4D9D5A18771B.jpg%20=507x284">
<meta property="og:image" content="http://xiuyuan.wang/2019/03/28/GitLab使用手册/8034CB638A4E92C9B763857ED386F4C9.jpg%20=800x648">
<meta property="og:image" content="http://xiuyuan.wang/2019/03/28/GitLab使用手册/4565D3FD5F8C6356E2F729900F5678A3.jpg%20=800x568">
<meta property="og:image" content="http://xiuyuan.wang/2019/03/28/GitLab使用手册/5D800A00357A18E8D1149533082D44BA.jpg%20=800x618">
<meta property="og:image" content="http://xiuyuan.wang/2019/03/28/GitLab使用手册/21DB5ED9C7B3575E2C0BEC7984002AA6.jpg%20=510x217">
<meta property="og:image" content="http://xiuyuan.wang/2019/03/28/GitLab使用手册/A43186BD8765D4A9E7147DA8518E4763.jpg%20=456x233">
<meta property="og:image" content="http://xiuyuan.wang/2019/03/28/GitLab使用手册/C91F1550D18808D8F59C034783EEBAE3.jpg%20=482x173">
<meta property="og:image" content="http://xiuyuan.wang/2019/03/28/GitLab使用手册/10451DFD5952149AF3173E40B9D9FEF3.jpg%20=473x145">
<meta property="og:image" content="http://xiuyuan.wang/2019/03/28/GitLab使用手册/5C38F188F6BC929227D3A7C8C89A97E7.jpg%20=456x146">
<meta property="og:image" content="http://xiuyuan.wang/2019/03/28/GitLab使用手册/040C3F3CD3B18E5A776CDEE58382CB11.jpg%20=800x634">
<meta property="og:image" content="http://xiuyuan.wang/2019/03/28/GitLab使用手册/D35AB40BE91A8BC1521E62315A347226.jpg%20=800x320">
<meta property="og:image" content="http://xiuyuan.wang/2019/03/28/GitLab使用手册/2E111A8F03286C30AA7F54268A60D35B.jpg%20=800x640">
<meta property="og:image" content="http://xiuyuan.wang/2019/03/28/GitLab使用手册/82D6B925C0CD7A3C9485AC5679884EFB.jpg%20=800x565">
<meta property="og:updated_time" content="2019-03-28T08:54:52.032Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="GitLab使用手册">
<meta name="twitter:description" content="Git简介 git是一个分布式版本控制软件，最初由林纳斯·托瓦兹创作，于2005年以GPL发布。最初目的是为更好地管理Linux内核开发而设计。git手册progit_v2.1.17.pdf 主要功能git是用于Linux内核开发的版本控制工具。与CVS、Subversion一类的集中式版本控制工具不同，它采用了分布式版本库的作法，不需要服务器端软件，就可以运作版本控制，使得源代码的发布和交流极其">
<meta name="twitter:image" content="http://xiuyuan.wang/2019/03/28/GitLab使用手册/D34446E965701FD774DE4D9D5A18771B.jpg%20=507x284">



  <link rel="alternate" href="/atom.xml" title="倦鸟归巢" type="application/atom+xml">




  <link rel="canonical" href="http://xiuyuan.wang/2019/03/28/GitLab使用手册/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>GitLab使用手册 | 倦鸟归巢</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

  <script src="/js/src/photoswipe.min.js?v="></script>
  <script src="/js/src/photoswipe-ui-default.min.js?v="></script>
</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">倦鸟归巢</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    
      
    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>关于</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档<span class="badge">2</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-images">

    
    
    
      
    

    
      
    

    <a href="/images" rel="section"><i class="menu-item-icon fa fa-fw fa-image"></i> <br>相册</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>搜索</a>
        </li>
      
    </ul>
  

  
    

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://xiuyuan.wang/2019/03/28/GitLab使用手册/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="倦鸟">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="倦鸟归巢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">GitLab使用手册

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-03-28 16:51:49 / 修改时间：16:54:52" itemprop="dateCreated datePublished" datetime="2019-03-28T16:51:49+08:00">2019-03-28</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/手册/" itemprop="url" rel="index"><span itemprop="name">手册</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <a href="/2019/03/28/GitLab使用手册/#comments" itemprop="discussionUrl">
                  <span class="post-meta-item-text">评论数：</span> <span class="post-comments-count valine-comment-count" data-xid="/2019/03/28/GitLab使用手册/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="post-meta-item-icon">
            <i class="fa fa-eye"></i>
             阅读次数： 
            <span class="busuanzi-value" id="busuanzi_value_page_pv"></span>
            </span>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="Git简介"><a href="#Git简介" class="headerlink" title="Git简介"></a>Git简介</h2><hr>
<p>git是一个分布式版本控制软件，最初由林纳斯·托瓦兹创作，于2005年以GPL发布。最初目的是为更好地管理Linux内核开发而设计。<br>git手册<a href="41FFE1610B4C0AB131B7F91604F6F3ED.pdf">progit_v2.1.17.pdf</a></p>
<h3 id="主要功能"><a href="#主要功能" class="headerlink" title="主要功能"></a>主要功能</h3><p>git是用于Linux内核开发的版本控制工具。与CVS、Subversion一类的集中式版本控制工具不同，它采用了分布式版本库的作法，不需要服务器端软件，就可以运作版本控制，使得源代码的发布和交流极其方便。git的速度很快，这对于诸如Linux内核这样的大项目来说自然很重要。git最为出色的是它的合并追踪（merge tracing）能力。</p>
<h3 id="目录库"><a href="#目录库" class="headerlink" title="目录库"></a>目录库</h3><ul>
<li>hooks：存储钩子的文件夹</li>
<li>logs：存储日志的文件夹</li>
<li>refs：存储指向各个分支的指针（SHA-1标识）文件</li>
<li>objects：存放git对象</li>
<li>config：存放各种设置文档</li>
<li>HEAD：指向当前所在分支的指针文件路径，一般指向refs下的某文件</li>
</ul>
<h3 id="Git工作区"><a href="#Git工作区" class="headerlink" title="Git工作区"></a>Git工作区</h3><p>Git项目有三个工作区域：</p>
<ul>
<li>Git仓库：仓库目录是Git用来保存项目元数据和对象数据的地方，这是Git最重要的部分，其他计算机克隆仓库时，拷贝的就是这里的数据。</li>
<li>工作目录：工作目录是对项目某个版本独立提取出来的内容。这些从Git仓库的压缩数据库中提取出来的文件放在本地磁盘中以供使用或修改。</li>
<li>暂存区域：暂存区域是一个文件，保存了下次将要提交的文件列表信息，一般在Git仓库目录中。</li>
</ul>
<h3 id="Git文件状态"><a href="#Git文件状态" class="headerlink" title="Git文件状态"></a>Git文件状态</h3><p>Git中的文件一般有三种状态，每个一文件都会处于这其中之一，根据状态的不同他们也将处于不同的工作区域。</p>
<ul>
<li>已提交（committed）：已提交表示数据已经安全的保存在本地Git仓库中。</li>
<li>已修改（modified）：已修改表示修改了文件，但是还没有保存到Git仓库中。</li>
<li>已暂存（staged）：已暂存表示对一个已经修改的文件的当前版本做了标记，会在下次的提交快找中。<br>状态之间的转换可以参考下图：<br><img src="D34446E965701FD774DE4D9D5A18771B.jpg =507x284" alt="IMAGE"></li>
</ul>
<h2 id="Git自定义设置"><a href="#Git自定义设置" class="headerlink" title="Git自定义设置"></a>Git自定义设置</h2><h3 id="用户信息"><a href="#用户信息" class="headerlink" title="用户信息"></a>用户信息</h3><p>用户信息可以设置全局或者依赖仓库设置。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span># 全局用户信息</span><br><span class="line"><span class="meta">$</span> git config --global user.name "your name" #设置用户名</span><br><span class="line"><span class="meta">$</span> git config --global user.email your email #设置用户邮箱</span><br><span class="line"><span class="meta">#</span># 根据项目设置用户信息</span><br><span class="line"><span class="meta">$</span> git config user.name "your name" #设置用户名</span><br><span class="line"><span class="meta">$</span> git config user.email your email #设置用户邮箱</span><br></pre></td></tr></table></figure></p>
<p>如果你有多个不同的项目，并且洗完Git使用不同的用户信息，那么可以在项目目录下执行不带有–global的命令。</p>
<h3 id="外部的合并与比较工"><a href="#外部的合并与比较工" class="headerlink" title="外部的合并与比较工"></a>外部的合并与比较工</h3><p>Git允许使用外部工具来替代内置的diff来合并解决冲突，将外部工具封装到shell脚本中，然后Git通过调用脚本的方式来唤起外部工具。<br>这样如果需要替换外部工具，只需要修改脚本就可以了。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">## 封装脚本 </span><br><span class="line">#### 合并脚本 </span><br><span class="line">$ cat /usr/local/bin/extMerge   </span><br><span class="line">#!/bin/sh</span><br><span class="line">/Applications/kdiff3.app/Contents/MacOS/kdiff3 $*</span><br><span class="line">$ cat /usr/local/bin/extDiff</span><br><span class="line"></span><br><span class="line">### 比较脚本</span><br><span class="line">#!/bin/sh</span><br><span class="line">[ $# -eq 7 ] &amp;&amp; /usr/local/bin/extMerge &quot;$2&quot; &quot;$5&quot;</span><br><span class="line"></span><br><span class="line">## 添加可执行权限</span><br><span class="line">sudo chmod +x /usr/local/bin/extMerge</span><br><span class="line">sudo chmod +x /usr/local/bin/extDiff</span><br><span class="line"></span><br><span class="line">## Git配置</span><br><span class="line">$ git config --global merge.tool extMerge</span><br><span class="line">$ git config --global mergetool.extMerge.cmd \</span><br><span class="line">&apos;extMerge \&quot;$BASE\&quot; \&quot;$LOCAL\&quot; \&quot;$REMOTE\&quot; \&quot;$MERGED\&quot;&apos;</span><br><span class="line">$ git config --global mergetool.extMerge.trustExitCode false</span><br><span class="line">$ git config --global diff.external extDiff</span><br></pre></td></tr></table></figure></p>
<p>设置完成后，执行<code>git diff</code>查看效果，Git唤起kdiff3:<br><img src="8034CB638A4E92C9B763857ED386F4C9.jpg =800x648" alt="IMAGE"></p>
<h3 id="回车和换行"><a href="#回车和换行" class="headerlink" title="回车和换行"></a>回车和换行</h3><p>windows中使用回车（CR）、换行（LF）两个字符来结束一行，linux、mac使用换行(LF)一个字符。<br>这回扰乱多人跨平台协作，Git中使用core.autocrlf来避免这个问题。<br>windows系统中将core.autocrlf设置成true，检出时换行会被替换成回车和换行，提交时回车和换行会被替换成换行。<br>linux、mac中将core.autocrlf设置成input，提交时回车和换行被替换成换行，检出时不转换。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git config --global core.autocrlf true</span><br><span class="line"><span class="meta">$</span> git config --global core.autocrlf input</span><br></pre></td></tr></table></figure></p>
<h3 id="设置注释模版"><a href="#设置注释模版" class="headerlink" title="设置注释模版"></a>设置注释模版</h3><p>使用注释模版的方式来规范提交的注释内容，创建一个文件，每次提交时Git引用这个文件添加到注释中：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">## 50/72格式</span><br><span class="line">$ cat ~/.gitmessage</span><br><span class="line"># 少于50字符的主题</span><br><span class="line">#</span><br><span class="line"># 72个字符或者跟长的描述。可以从以下几个方面回答：</span><br><span class="line">#</span><br><span class="line"># * 为什么需要这么做？</span><br><span class="line"># * 如何解决这个问题的？</span><br><span class="line"># * 这样做可能带来的副作用？</span><br><span class="line">#</span><br><span class="line"># 如果有的话，带上问题来源的链接</span><br><span class="line">#</span><br><span class="line"># 添加有关开发人员的信息，如果你是和其他人一起完成的工作</span><br><span class="line">#</span><br><span class="line"># 相关开发人员: 全名 &lt;email@example.com&gt;</span><br><span class="line"># 相关开发人员: 全名 &lt;email@example.com&gt;</span><br><span class="line"></span><br><span class="line">##设置commit.template</span><br><span class="line">$ git config --global commit.template ~/.gitmessage</span><br></pre></td></tr></table></figure></p>
<p>每次执行<code>git commit</code>，效果如下：<br><img src="4565D3FD5F8C6356E2F729900F5678A3.jpg =800x568" alt="IMAGE"></p>
<h3 id="设置过滤文件"><a href="#设置过滤文件" class="headerlink" title="设置过滤文件"></a>设置过滤文件</h3><h4 id="忽略文件"><a href="#忽略文件" class="headerlink" title="忽略文件"></a>忽略文件</h4><p>可以编辑工作目录下的<code>.gitignore</code>文件来过滤不需要纳入版本控制的文件，并且支持shell正则表达式:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> cat .gitignore</span><br><span class="line">/target/</span><br><span class="line">!.mvn/wrapper/maven-wrapper.jar</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>## STS ###</span><br><span class="line">.apt_generated</span><br><span class="line">.classpath</span><br><span class="line">.factorypath</span><br><span class="line">.project</span><br><span class="line">.settings</span><br><span class="line">.springBeans</span><br><span class="line">.sts4-cache</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>## IntelliJ IDEA ###</span><br><span class="line">.idea</span><br><span class="line">*.iws</span><br><span class="line">*.iml</span><br><span class="line">*.ipr</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>## NetBeans ###</span><br><span class="line">/nbproject/private/</span><br><span class="line">/build/</span><br><span class="line">/nbbuild/</span><br><span class="line">/dist/</span><br><span class="line">/nbdist/</span><br><span class="line">/.nb-gradle/</span><br></pre></td></tr></table></figure></p>
<h3 id="配置ssh-key"><a href="#配置ssh-key" class="headerlink" title="配置ssh key"></a>配置ssh key</h3><p>生成rsa密钥，如果已生成一般存放在～/.ssh目录下默认名称为id_rsa（私钥）、id_rsa.pub（公钥），我们只需要使用到公钥，将公钥内容复制并粘贴到Key文本框中，Title可以自定义。注意：复制公钥时以ssh-rsa开头。<br><img src="5D800A00357A18E8D1149533082D44BA.jpg =800x618" alt="IMAGE"></p>
<h2 id="Git基本命令"><a href="#Git基本命令" class="headerlink" title="Git基本命令"></a>Git基本命令</h2><hr>
<h3 id="获取仓库"><a href="#获取仓库" class="headerlink" title="获取仓库"></a>获取仓库</h3><p>在Git中有两种方法创建仓库：</p>
<ul>
<li><p><code>git init</code>创建本地仓库</p>
  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span># 在已有的目录中创建仓库</span><br><span class="line"><span class="meta">$</span> mkdir workdir</span><br><span class="line"><span class="meta">$</span> cd workdir</span><br><span class="line"><span class="meta">$</span> git init </span><br><span class="line"><span class="meta">#</span># 或者直接创建仓库并新建目录</span><br><span class="line"><span class="meta">$</span> git init workdir</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>git clone</code>克隆远程仓库</p>
  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span># 通过git协议clone仓库到本地，这里重命名本地仓库名称为spring-demo，默认为origin</span><br><span class="line"><span class="meta">$</span> git clone git@gitlab.com:proclinux/spring-demo.git spring-demo</span><br></pre></td></tr></table></figure>
<p>  这种方法需要有一个远程中心仓库。</p>
<h3 id="更新仓库"><a href="#更新仓库" class="headerlink" title="更新仓库"></a>更新仓库</h3><p>工作目录下的每一个文件都会处于已跟踪或未跟踪。已跟踪的文件是指那些已经被纳入版本控制的文件，未跟踪是指那些未被纳入版本控制的文件。它们的变化周期如下图：<br><img src="21DB5ED9C7B3575E2C0BEC7984002AA6.jpg =510x217" alt="IMAGE"></p>
</li>
</ul>
<h4 id="查看文件状态"><a href="#查看文件状态" class="headerlink" title="查看文件状态"></a>查看文件状态</h4><p><code>git status</code>可以查看哪些文件处于什么状态。-s参数会使其得到一种更加紧凑的格式输出。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git status    </span><br><span class="line"><span class="meta">$</span> git status -s</span><br><span class="line"> M README</span><br><span class="line">MM Rakefile</span><br><span class="line">A  lib/git.rb</span><br><span class="line">M  lib/simplegit.rb</span><br><span class="line">?? LICENSE.txt</span><br></pre></td></tr></table></figure></p>
<p>?? 表示文件未被跟踪，需要add，A表示新的文件已放入暂存区域，右侧表示修改了文件未放入暂存区域，左侧M表示修改了文件并放入了暂存区域，MM表示修改了文件放到暂存取后又被修改了。</p>
<h4 id="跟踪新文件"><a href="#跟踪新文件" class="headerlink" title="跟踪新文件"></a>跟踪新文件</h4><p><code>git add</code>可以将文件纳入git版本控制中中，新增、修改后的文件都需要被跟踪<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git add newfile</span><br></pre></td></tr></table></figure></p>
<h4 id="提交更新"><a href="#提交更新" class="headerlink" title="提交更新"></a>提交更新</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git commit -m "this is a pice of comment" #添加注释</span><br><span class="line"><span class="meta">$</span> git commit    #未添加注释时，会自动弹出文本编辑框要求填写</span><br></pre></td></tr></table></figure>
<h4 id="查看已暂存和未暂存的修改"><a href="#查看已暂存和未暂存的修改" class="headerlink" title="查看已暂存和未暂存的修改"></a>查看已暂存和未暂存的修改</h4><p><code>git diff</code>可以通过文件补丁的格式显示具体哪些行发生了改变。不加参数查看的是尚未暂存的文件更新了那些部分，若要查看已暂存的将要添加到下次提交里的内容，可以添加参数<code>--staged</code><br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git diff</span><br><span class="line"><span class="meta">$</span> git diff --staged</span><br></pre></td></tr></table></figure></p>
<p>在解决合并冲突时可以使用<code>git config --global merge.tool vimdiff</code>设置差异分析工具。<br>Git可以理解 kdiff3，tkdiff，meld，xxdiff，emerge，vimdiff，gvimdiff，ecmerge，和 opendiff 等合并工具的输出信息。</p>
<h4 id="移除文件"><a href="#移除文件" class="headerlink" title="移除文件"></a>移除文件</h4><p><code>git rm</code>可以从git中移除文件，需要将文件从跟踪清单中移除，并删除本地文件：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> rm filename</span><br><span class="line"><span class="meta">$</span> git rm filename</span><br></pre></td></tr></table></figure></p>
<p>下次提交时，就不会纳入版本管理中。如果文件已经放到暂存区域可使用<code>git rm cached</code>。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git rm cached filename</span><br></pre></td></tr></table></figure></p>
<h4 id="移动文件"><a href="#移动文件" class="headerlink" title="移动文件"></a>移动文件</h4><p><code>git mv</code>可以移动或重命名Git中的文件。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git mv filename newfilename</span><br><span class="line"><span class="meta">#</span># 等同于</span><br><span class="line"><span class="meta">$</span> mv filename newfilename</span><br><span class="line"><span class="meta">$</span> git rm filename</span><br><span class="line"><span class="meta">$</span> git add newfilename</span><br></pre></td></tr></table></figure></p>
<h3 id="存储"><a href="#存储" class="headerlink" title="存储"></a>存储</h3><h4 id="存储工作"><a href="#存储工作" class="headerlink" title="存储工作"></a>存储工作</h4><p><code>git stash</code>可以暂时保存当前的工作，将当前工作入栈，在此之前可以使用<code>git status</code>查看当前工作的状态。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git stash #暂存工作</span><br><span class="line"><span class="meta">$</span> git stash list    #查看存储的列表</span><br><span class="line"><span class="meta">$</span> git stash apply stash@&#123;0&#125; #应用存储 stash@&#123;0&#125;是一个快捷应用，数字可以改变的，如果不添加，默认应用最新的</span><br><span class="line"><span class="meta">$</span> git stash pop stash@&#123;0&#125; #重新应用存储，并出栈</span><br><span class="line"><span class="meta">$</span> git stash drop stash@&#123;0&#125;  #移除存粗</span><br></pre></td></tr></table></figure></p>
<p><code>git stash apply</code>会将原来存储的工作区域、暂存区域的内容都恢复到工作区，如果加上–index会尝试将暂存区域恢复到暂存区域</p>
<h4 id="取消应用存储"><a href="#取消应用存储" class="headerlink" title="取消应用存储"></a>取消应用存储</h4><p><code>git stash show -p stash@{0} | git apply -R</code>可以通过取消存粗补丁的方式，在应用存储后进行了一些修改，取消之前应用存储的修改。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git stash show -p stash@&#123;0&#125; | git apply -R`</span><br></pre></td></tr></table></figure></p>
<h4 id="创建存储分支"><a href="#创建存储分支" class="headerlink" title="创建存储分支"></a>创建存储分支</h4><p><code>git stash branch</code>可以在存储的基础上创建新的分支，当你存储工作后，又继续在当前分支工作，这时应用存储，发现存储的某个文件在后面的工作中被修改了，这样就产生了冲突，为此我们可以在存储的基础上创建新的分支，并愉快的在新的分支工作。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git stash branch newbranch</span><br></pre></td></tr></table></figure></p>
<h3 id="查看提交历史"><a href="#查看提交历史" class="headerlink" title="查看提交历史"></a>查看提交历史</h3><p><code>git log</code>可以查看每次提交的历史，同时也支持很多用法，可以参考help。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git log</span><br></pre></td></tr></table></figure></p>
<h3 id="撤销操作"><a href="#撤销操作" class="headerlink" title="撤销操作"></a>撤销操作</h3><h4 id="覆盖提交"><a href="#覆盖提交" class="headerlink" title="覆盖提交"></a>覆盖提交</h4><p><code>git commit --admend</code>可以撤销上一次提交动作，在commit之后，如果未做任何的修改，运行带有–amend参数可以重新提交，并覆盖上一次提交。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git commit -m "this is comment"</span><br><span class="line"><span class="meta">$</span> git add newfile</span><br><span class="line"><span class="meta">$</span> git commit --admend</span><br></pre></td></tr></table></figure></p>
<h4 id="取消暂存文件"><a href="#取消暂存文件" class="headerlink" title="取消暂存文件"></a>取消暂存文件</h4><p><code>git reset</code>可以取消已经暂存的文件<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git reset HEAD filename</span><br></pre></td></tr></table></figure></p>
<h4 id="撤销对文件的修改"><a href="#撤销对文件的修改" class="headerlink" title="撤销对文件的修改"></a>撤销对文件的修改</h4><p><code>git checkout -- filename</code>可以撤销对文件的修改，对这个文件的所有修改都会丢失，使用另外一个文件来覆盖它。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git checkout -- filename</span><br></pre></td></tr></table></figure></p>
<h3 id="远程仓库的使用"><a href="#远程仓库的使用" class="headerlink" title="远程仓库的使用"></a>远程仓库的使用</h3><h4 id="查看远程仓库"><a href="#查看远程仓库" class="headerlink" title="查看远程仓库"></a>查看远程仓库</h4><p><code>git remote</code>可以查看远程仓库。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git remote -v </span><br><span class="line">origin  git@gitlab.com:proclinux/spring-demo.git (fetch)</span><br><span class="line">origin  git@gitlab.com:proclinux/spring-demo.git (push)</span><br></pre></td></tr></table></figure></p>
<h4 id="添加远程库"><a href="#添加远程库" class="headerlink" title="添加远程库"></a>添加远程库</h4><p><code>git remote add</code>可以添加远程仓库<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span># 添加远程仓库，并命名别名</span><br><span class="line"><span class="meta">$</span> git remote add spring-demo git@gitlab.com:proclinux/spring-demo.git</span><br><span class="line"><span class="meta">#</span># 拉取数据</span><br><span class="line"><span class="meta">$</span> git fetch spring-demo</span><br></pre></td></tr></table></figure></p>
<h4 id="拉取取数据"><a href="#拉取取数据" class="headerlink" title="拉取取数据"></a>拉取取数据</h4><p><code>git fetch</code>可以从远程仓库拉取数据到你的本地仓库中，但并不会合并到你的工作目录中，因此需要手动合并。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git fetch origin develop</span><br></pre></td></tr></table></figure></p>
<p>执行完成之后，你会拥有develop远程分支的引用，可以随意合并或查看。<br>如果你有一个本地分支设置跟踪了一个远程分支，可以使用git pull来自动抓取并合并远程分支到当前分支。git clone 默认会设置master分支跟踪远程仓库的master分支。</p>
<h4 id="推送到远程仓库"><a href="#推送到远程仓库" class="headerlink" title="推送到远程仓库"></a>推送到远程仓库</h4><p><code>git push</code>可以在项目完成后将其推送到远程中心仓库。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git push origin develop</span><br></pre></td></tr></table></figure></p>
<p>git会根据远程仓库develop分支的更新情况来决定是否允许推送，可以根据相应的提示来解决不能推送的问题，一般都是因为远程仓库的版本比本地更新的问题，因此在推送之前需要将远程仓库fetch下来并合并到本地仓库，在合并之前最好diff一下查看一下差异。</p>
<h4 id="查看远程仓库-1"><a href="#查看远程仓库-1" class="headerlink" title="查看远程仓库"></a>查看远程仓库</h4><p><code>git remote show</code>可以查看远程仓库的信息。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git remote show origin</span><br></pre></td></tr></table></figure></p>
<p>origin是远程仓库的别名，clone默认会使用origin。</p>
<h4 id="远程仓库移除与重命名"><a href="#远程仓库移除与重命名" class="headerlink" title="远程仓库移除与重命名"></a>远程仓库移除与重命名</h4><p><code>git remote rename</code>可以重命名引用的名字。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git remote rename origin spring-demo</span><br></pre></td></tr></table></figure></p>
<p>需要注意的是这样同样会修改你的远程分支名称，如果你不在想使用这个远程仓库了，可以使用<code>git remote rm</code>:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git remote rm spring-demo</span><br></pre></td></tr></table></figure></p>
<h3 id="标签管理"><a href="#标签管理" class="headerlink" title="标签管理"></a>标签管理</h3><p>通常在git中使用tag来控制版本信息</p>
<h4 id="列出标签"><a href="#列出标签" class="headerlink" title="列出标签"></a>列出标签</h4><p><code>git tag</code>可以查看所有的标签。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git tag</span><br><span class="line"><span class="meta">#</span># 使用-l 参数可以过滤标签</span><br><span class="line"><span class="meta">$</span> git tag -l 'v1.0*'</span><br></pre></td></tr></table></figure></p>
<p>查看远程的tag可以使用<code>git branch -r</code></p>
<h4 id="创建标签"><a href="#创建标签" class="headerlink" title="创建标签"></a>创建标签</h4><p><code>git tag</code>可以创建标签，标签分为：轻量标签、附柱标签，轻量标签只是一个特定提交的引用，附注标签是存储在git中的一个完整的对象。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span># 附注标签</span><br><span class="line"><span class="meta">$</span> git tag -a v1.0.0 -m 'my version 1.0.0'</span><br><span class="line"><span class="meta">#</span># 轻量标签</span><br><span class="line"><span class="meta">$</span> git tag v1.0.0</span><br></pre></td></tr></table></figure></p>
<p>使用<code>git show &lt;tag&gt;</code>查看两者的区别。<br>如果需要对过去的提交打标签，需要查找历史提交的commit-id，通常取其前面的7位就够了。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git log --pretty=oneline</span><br><span class="line">7b08e0d0d2ca9bfa6241d9f7fe9b927466b6b45 (HEAD -&gt; master) Merge branch 'hotfix/v1.0.0' of gitlab.com:proclinux/spring-demo</span><br><span class="line">d1cf546bd6a5def3e35f33583e3f9bf48948700c test</span><br><span class="line">dae3bfe2823054265272ce5da7d6250d5a81c164 (tag: v1.0.0, origin/release, origin/hotfix/v1.0.0, release, hotfix/v1.0.0) bug fixed</span><br><span class="line">dc528ec2ce4c1c4448acc6e956b9085cd770d45c (origin/master, origin/HEAD, feature/user-center) Update pom.xml</span><br><span class="line">bcdfbfd57c8f3cd6cd65998464bb71a562d49948 Initial template creation</span><br><span class="line"><span class="meta">$</span> git tag -a v1.0.1 dae3bfe</span><br></pre></td></tr></table></figure></p>
<h4 id="共享标签"><a href="#共享标签" class="headerlink" title="共享标签"></a>共享标签</h4><p><code>git push origin [--tags|tagname]</code>可以推送标签到远程仓库。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git push origin v1.0.0 #推送指定标签</span><br><span class="line"><span class="meta">$</span> git push origin --tags #推送所有标签 --detele 也可以删除标签</span><br></pre></td></tr></table></figure></p>
<h4 id="删除标签"><a href="#删除标签" class="headerlink" title="删除标签"></a>删除标签</h4><p><code>git tag -d &lt;tagname&gt;</code>可以删除本地仓库的标签：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git tag -d v1.0.0 #该命令不会删除远程仓库的标签</span><br><span class="line"><span class="meta">$</span> git push origin :refs/tags/v1.0.0 #</span><br></pre></td></tr></table></figure></p>
<h4 id="检出标签"><a href="#检出标签" class="headerlink" title="检出标签"></a>检出标签</h4><p><code>git checkout</code>可以检出tag标签所指的版本，但是会是仓库处于detatched head的状态。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git checkout v1.0.0</span><br></pre></td></tr></table></figure></p>
<p>detached head状态会有一些副作用，在这种状态下修改一些问题并提交，标签不会发生变化，也不所任何分支，因此也无法访问。一般我们通过新建一个分支，然后在此基础上进行修改。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git checkout -b version1.0.0 v1.0.0</span><br></pre></td></tr></table></figure></p>
<h3 id="分支管理"><a href="#分支管理" class="headerlink" title="分支管理"></a>分支管理</h3><h4 id="查看分支"><a href="#查看分支" class="headerlink" title="查看分支"></a>查看分支</h4><p><code>git branch</code>可以查看本地分支，带*的是当前分支，参数-v可以查看每个分支最后一次提交，–merged –no-merged可以用来过滤已经合并或尚未合并到当前分支的分支,-r可以查看远程分支<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git branch</span><br><span class="line"><span class="meta">$</span> git branch -v</span><br><span class="line"><span class="meta">$</span> git branch --merged # --no-merged</span><br><span class="line"><span class="meta">$</span> git branch -r</span><br></pre></td></tr></table></figure></p>
<h4 id="创建分支"><a href="#创建分支" class="headerlink" title="创建分支"></a>创建分支</h4><p><code>git branch branchname</code>可以创建本地分支<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git branch feature</span><br></pre></td></tr></table></figure></p>
<h4 id="推送分支"><a href="#推送分支" class="headerlink" title="推送分支"></a>推送分支</h4><p><code>git push</code>可以推送本地分支到远程仓库。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git push origin feature:feature</span><br></pre></td></tr></table></figure></p>
<p>当其他人fetch origin时会将此分支拉到本地仓库，但是不会合并到当前分支，如果想要在此分支工作，需要创建新的分支并建立远程跟踪分支。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git checkout -b featrue origin/feature</span><br></pre></td></tr></table></figure></p>
<h4 id="跟踪分支"><a href="#跟踪分支" class="headerlink" title="跟踪分支"></a>跟踪分支</h4><p><code>git checkout -b --track</code>可以从远程跟踪分支检出一个本地分支会自动创建一个跟踪分支,这样pull、fetch、push就不需要显示的指定远程分支跟本地分支了，git能自动识别。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git checkout -b --track feature orgin/feature # 新版的git末尾加上远程分支会自动加上--track</span><br><span class="line"><span class="meta">#</span># 修改远程跟踪分支</span><br><span class="line"><span class="meta">$</span> git branch -u origin/develop</span><br><span class="line"><span class="meta">#</span># 关联远程仓库分支</span><br><span class="line">git branch --set-upstream-to=origin/develop  develop</span><br></pre></td></tr></table></figure></p>
<h4 id="删除远程分支"><a href="#删除远程分支" class="headerlink" title="删除远程分支"></a>删除远程分支</h4><p><code>git push origin --delete</code>可以删除远程分支，在完成远程分支的工作，并且这个分支是临时分支，那么在合并之后可以删除该分支。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git push origin --delete feature  #删除远程分支</span><br><span class="line"><span class="meta">$</span> git branch -d feature #删除本地分支</span><br></pre></td></tr></table></figure></p>
<h3 id="变基"><a href="#变基" class="headerlink" title="变基"></a>变基</h3><p>变基操作有点神奇，运用之前必须了解它到底做了什么。一般我们通过merge来合并版本。<br><img src="A43186BD8765D4A9E7147DA8518E4763.jpg =456x233" alt="IMAGE"><br>使用merge合并之后是这样的：<br><img src="C91F1550D18808D8F59C034783EEBAE3.jpg =482x173" alt="IMAGE"><br>使用rebase变基之后是这样的：<br><img src="10451DFD5952149AF3173E40B9D9FEF3.jpg =473x145" alt="IMAGE"><br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git checkout experiment</span><br><span class="line"><span class="meta">$</span> git rebase master</span><br><span class="line"><span class="meta">$</span> git checkout master</span><br><span class="line"><span class="meta">$</span> git merge experiment</span><br></pre></td></tr></table></figure></p>
<p><img src="5C38F188F6BC929227D3A7C8C89A97E7.jpg =456x146" alt="IMAGE"><br>这样做能确保提交历史更加整洁，没有分叉。<br><em><strong>一定不要对已经push到远程仓库的分支进行变基。</strong></em></p>
<h2 id="GitLab管理"><a href="#GitLab管理" class="headerlink" title="GitLab管理"></a>GitLab管理</h2><hr>
<p>GitLab是由GitLab Inc.开发，使用MIT许可证的基于网络的Git仓库管理工具，且具有wiki和issue跟踪功能。</p>
<h3 id="分支"><a href="#分支" class="headerlink" title="分支"></a>分支</h3><p>在GitLab中创建以下几个分支，master、develop是长期分支，hotfix、feature是临时分支，feature可以不用push到远程仓库中。</p>
<ul>
<li><p>master分支<br>master为主分支，用于部署生产环境的分支，一般由develop分支合并。<br>任何时间都不能直接修改master代码。</p>
</li>
<li><p>develop分支<br>develop为开发分支，始终保持最新完成以及bug修复后的代码。<br>用于开发人员合并代码并提测，测试完成后由管理员合并到master分支并打标签。</p>
</li>
<li><p>hotfix分支<br>以<code>hotfix/</code>开头的为修复分支，当线上出现需要紧急修复的问题时，以master分支为基线创建hotfix分支，修复完成后，需要合并到master分支和develop分支。</p>
</li>
<li><p>feature分支<br>以<code>feature/</code>开头的为特性分支，开发新功能时，以master为基线，创建feature分支。<br>开发完成后合并到develop分支。</p>
</li>
</ul>
<h3 id="开发流程"><a href="#开发流程" class="headerlink" title="开发流程"></a>开发流程</h3><ol>
<li><p>创建项目（需要管理权限）<br>gitlab首页点击新建项目，我们以Spring为模版创建一个示例项目。<br><img src="040C3F3CD3B18E5A776CDEE58382CB11.jpg =800x634" alt="IMAGE"><br>然后在Projects页面我们可以看到刚刚创建的示例项目：<br><img src="D35AB40BE91A8BC1521E62315A347226.jpg =800x320" alt="IMAGE"><br>这是一个master分支，然后创建一个develop分支。</p>
</li>
<li><p>克隆项目<br>在本地环境，新建一个目录用来作为项目的工作目录:<br><img src="2E111A8F03286C30AA7F54268A60D35B.jpg =800x640" alt="IMAGE"><br>在使用ssh克隆之前，需要在gitlab中配置ssh key</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git clone git@gitlab.com:proclinux/spring-demo.git</span><br><span class="line">Cloning into 'spring-demo'...</span><br><span class="line">remote: Enumerating objects: 1, done.</span><br><span class="line">remote: Counting objects: 100% (1/1), done.</span><br><span class="line">remote: Total 28 (delta 0), reused 0 (delta 0)</span><br><span class="line">Receiving objects: 100% (28/28), 47.41 KiB | 19.00 KiB/s, done.</span><br></pre></td></tr></table></figure>
</li>
<li><p>新建develop开发分支<br>新建develop分支并关联远程develop分支</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span># 新建develop分支，个人在此分支做开发</span><br><span class="line"><span class="meta">$</span> git checkout -b develop origin/develop</span><br><span class="line">Switched to a new branch 'develop'</span><br></pre></td></tr></table></figure>
</li>
<li><p>新建feature特性分支<br>feature分支存在于本地，不需要推送到远程仓库。切换到master分支，基于master分支创建feature分支。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git checkout master</span><br><span class="line"><span class="meta">$</span> git checkout -b feature/login-module</span><br><span class="line">Switched to a new branch 'feature/login-module'</span><br></pre></td></tr></table></figure>
</li>
<li><p>基于feature分支进行开发工作<br>开发完成后，将代码进行提交。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git add .</span><br><span class="line"><span class="meta">$</span> git commit</span><br></pre></td></tr></table></figure>
</li>
<li><p>合并feature分支到develop分支<br>合并之前需要更新develop分支，然后再合并。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span># 切换到develop分支</span><br><span class="line"><span class="meta">$</span> git checkout develop</span><br><span class="line">Switched to branch 'develop'</span><br><span class="line"><span class="meta">$</span> git fetch origin develop  #拉取远程develop分支数据</span><br><span class="line">From gitlab.com:proclinux/spring-demo</span><br><span class="line"> * branch            develop    -&gt; FETCH_HEAD</span><br><span class="line"><span class="meta">$</span> git merge FETCH_HEAD --no-ff  #合并最新的develop分支</span><br><span class="line">Already up to date.</span><br><span class="line"><span class="meta">$</span> git merge feature/login-module --no-ff   #合并feature分支</span><br><span class="line">Updating 05fbcad..2d44a4b</span><br><span class="line">Fast-forward</span><br><span class="line"> README.md      |  3 ++-</span><br><span class="line"> README.md.orig | 13 +++++++++++++</span><br><span class="line"> 2 files changed, 15 insertions(+), 1 deletion(-)</span><br><span class="line"> create mode 100644 README.md.orig</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>如果合并的过程中产生冲突请使用<code>git mergetool</code>，解决后再提交。</p>
<ol start="7">
<li><p>推送develop分支</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git push  #推送本地develop分支到远程仓库</span><br><span class="line">Counting objects: 4, done.</span><br><span class="line">Delta compression using up to 4 threads.</span><br><span class="line">Compressing objects: 100% (4/4), done.</span><br><span class="line">Writing objects: 100% (4/4), 647 bytes | 647.00 KiB/s, done.</span><br><span class="line">Total 4 (delta 2), reused 0 (delta 0)</span><br><span class="line">remote:</span><br><span class="line">remote: To create a merge request for develop, visit:</span><br><span class="line">remote:   https://gitlab.com/proclinux/spring-demo/merge_requests/new?merge_request%5Bsource_branch%5D=develop</span><br><span class="line">remote:</span><br><span class="line">To gitlab.com:proclinux/spring-demo.git</span><br><span class="line">   05fbcad..2d44a4b  develop -&gt; develop</span><br></pre></td></tr></table></figure>
</li>
<li><p>合并master分支（需要管理权限）<br>测试完成后，将develop分支合并到master分支，在此之前需要更新master、develop分支</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git checkout develop #切换到develop分支</span><br><span class="line"><span class="meta">$</span> git fetch origin develop  #拉取最新的远程仓库develop分支数据</span><br><span class="line">From gitlab.com:proclinux/spring-demo</span><br><span class="line"> * branch            develop    -&gt; FETCH_HEAD</span><br><span class="line"><span class="meta">$</span> git merge FETCH_HEAD --no-ff  #合并develop</span><br><span class="line">Already up to date.</span><br><span class="line"><span class="meta">$</span> git checkout master   #切换到master分支</span><br><span class="line"><span class="meta">$</span> git fetch origin master   #拉取最新的远程仓库master分支数据</span><br><span class="line">From gitlab.com:proclinux/spring-demo</span><br><span class="line"> * branch            master     -&gt; FETCH_HEAD</span><br><span class="line"><span class="meta">$</span> git merge FETCH_HEAD --no-ff  #合并master分支</span><br><span class="line">Already up to date.</span><br><span class="line"><span class="meta">$</span> git merge develop --no-ff #合并develop分支到master，遇到冲突</span><br><span class="line">Auto-merging README.md</span><br><span class="line">CONFLICT (content): Merge conflict in README.md</span><br><span class="line">Automatic merge failed; fix conflicts and then commit the result.</span><br><span class="line"><span class="meta">$</span> git mergetool #解决冲突</span><br><span class="line">Merging:</span><br><span class="line">README.md</span><br><span class="line"></span><br><span class="line">Normal merge conflict for 'README.md':</span><br><span class="line">  &#123;local&#125;: modified file</span><br><span class="line">  &#123;remote&#125;: modified file</span><br><span class="line">2019-03-21 14:49:28.799 kdiff3[29340:315661] modalSession has been exited prematurely - check for a reentrant call to endModalSession:</span><br><span class="line">2019-03-21 14:49:31.019 kdiff3[29340:315661] modalSession has been exited prematurely - check for a reentrant call to endModalSession:</span><br><span class="line">2019-03-21 14:49:33.226 kdiff3[29340:315661] modalSession has been exited prematurely - check for a reentrant call to endModalSession:</span><br><span class="line">2019-03-21 14:49:34.564 kdiff3[29340:315661] modalSession has been exited prematurely - check for a reentrant call to endModalSession:</span><br><span class="line">README.md seems unchanged.</span><br><span class="line"><span class="meta">$</span> git status    #冲突解决后查看状态，确认效果</span><br><span class="line">On branch master</span><br><span class="line">Your branch is up to date with 'origin/master'.</span><br><span class="line"></span><br><span class="line">All conflicts fixed but you are still merging.</span><br><span class="line">  (use "git commit" to conclude merge)</span><br><span class="line"></span><br><span class="line">Changes to be committed:</span><br><span class="line"></span><br><span class="line">    modified:   README.md</span><br><span class="line">    new file:   README.md.orig</span><br><span class="line"></span><br><span class="line">Changes not staged for commit:</span><br><span class="line">  (use "git add &lt;file&gt;..." to update what will be committed)</span><br><span class="line">  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)</span><br><span class="line"></span><br><span class="line">    modified:   README.md.orig</span><br><span class="line"></span><br><span class="line">Untracked files:</span><br><span class="line">  (use "git add &lt;file&gt;..." to include in what will be committed)</span><br><span class="line"></span><br><span class="line">    README_REMOTE_29425.md.orig</span><br><span class="line"><span class="meta">$</span> git commit    #重新提交完成合并</span><br><span class="line">[master 37052f2] Merge branch 'develop'</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>kdiff3会生成其他文件，需要可以删除，kdiff3的页面如下图：<br><img src="82D6B925C0CD7A3C9485AC5679884EFB.jpg =800x565" alt="IMAGE"></p>
<ol start="9">
<li><p>推送master分支到远程仓库(需要管理员权限)</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git push</span><br><span class="line">Counting objects: 3, done.</span><br><span class="line">Delta compression using up to 4 threads.</span><br><span class="line">Compressing objects: 100% (3/3), done.</span><br><span class="line">Writing objects: 100% (3/3), 358 bytes | 358.00 KiB/s, done.</span><br><span class="line">Total 3 (delta 2), reused 0 (delta 0)</span><br><span class="line">To gitlab.com:proclinux/spring-demo.git</span><br><span class="line">   15dd409..37052f2  master -&gt; master</span><br></pre></td></tr></table></figure>
</li>
<li><p>打版本号(需要管理员权限)<br>这一步骤可以合并到步骤9</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git tag -a v1.0.1 -m "version 1.0.1"</span><br><span class="line"><span class="meta">$</span> git push --tags</span><br><span class="line">Counting objects: 1, done.</span><br><span class="line">Writing objects: 100% (1/1), 159 bytes | 159.00 KiB/s, done.</span><br><span class="line">Total 1 (delta 0), reused 0 (delta 0)</span><br><span class="line">To gitlab.com:proclinux/spring-demo.git</span><br><span class="line"> * [new tag]         v1.0.2 -&gt; v1.0.2</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="紧急bug修复"><a href="#紧急bug修复" class="headerlink" title="紧急bug修复"></a>紧急bug修复</h3><ol>
<li><p>查看当前工作空间状态是否干净，如果干净可以直接进入bug修复，否则需要将当前工作存储起来。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git status    #查看当前是否有未提交的工作，如果有则暂存，没有则略过</span><br><span class="line"><span class="meta">$</span> git stash     #存储工作</span><br></pre></td></tr></table></figure>
</li>
<li><p>拉取指定版本master分支，如果是当前版本可以跳过。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git fetch origin master       #获取最新的master分支</span><br><span class="line"><span class="meta">$</span> git merger --no-ff FETCH_HEAD #合并master</span><br><span class="line"><span class="meta">$</span> git tag                       #查看所有的tag</span><br><span class="line"><span class="meta">$</span> git show vx.x.x               #查看标签详情 查看需要回退的commit-id</span><br><span class="line"><span class="meta">$</span> git reset --hard commit-id    #回退版本</span><br></pre></td></tr></table></figure>
</li>
<li><p>基于指定版本master分支创建hotfix分支</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span># 创建分支</span><br><span class="line"><span class="meta">$</span> git checkout -b hotfix/vx.x.x</span><br></pre></td></tr></table></figure>
</li>
<li><p>修复bug<br>修复完成之后提交hotfix分支</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git add .</span><br><span class="line"><span class="meta">$</span> git commit</span><br><span class="line"><span class="meta">$</span> git push origin hotfix/vx.x.x:hotfix/vx.x.x</span><br></pre></td></tr></table></figure>
</li>
<li><p>重新发布版本<br>hotfix分支测试完成之后，重新发布新的版本</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span># 重新打标签</span><br><span class="line"><span class="meta">$</span> git tag -a vx.x.xy -m "The Vx.x.y"</span><br><span class="line"><span class="meta">$</span> git push origin hotfix/vx.x.x --tags</span><br></pre></td></tr></table></figure>
</li>
<li><p>合并master分支</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git checkout master</span><br><span class="line"><span class="meta">$</span> git push origin master</span><br><span class="line"><span class="meta">$</span> git merge hotfix/vx.x.x --no-ff</span><br><span class="line"><span class="meta">$</span> git mergetool #解决冲突</span><br><span class="line"><span class="meta">$</span> git commit</span><br></pre></td></tr></table></figure>
</li>
<li><p>还原工作区域</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git stash list            #查看存储工作列表 找到需要恢复的存储</span><br><span class="line"><span class="meta">$</span> git stash pop stash@&#123;0&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="使用规范"><a href="#使用规范" class="headerlink" title="使用规范"></a>使用规范</h2><hr>
<h3 id="准则"><a href="#准则" class="headerlink" title="准则"></a>准则</h3><ul>
<li>严格遵守开发流程</li>
<li>设置真实的用户信息</li>
<li>仓库代码统一使用换行结束一行</li>
<li>严格按照注释模版填写注释</li>
<li>禁止使用git commit -m 的方式添加注释</li>
<li>合并代码使用git merge –no-ff</li>
<li>使用mergetool合并和解决冲突，外部工具使用kdiff3</li>
<li>尽快提交已完成功能</li>
<li>禁止提交其他无关文件到远程仓库</li>
<li>禁止直接在远程仓库修改文件</li>
<li>所有冲突必须在本地解决</li>
</ul>
<h2 id="语义化版本-2-0-0"><a href="#语义化版本-2-0-0" class="headerlink" title="语义化版本 2.0.0"></a>语义化版本 2.0.0</h2><hr>
<p>语义化版本控制的规范是由 Gravatars 创办者兼 GitHub 共同创办者 Tom Preston-Werner 所建立。以下内容摘自<a href="https://semver.org/lang/zh-CN/" target="_blank" rel="noopener">https://semver.org/lang/zh-CN/</a></p>
<h3 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h3><p>版本格式：主版本号.次版本号.修订号，版本号递增规则如下：</p>
<ol>
<li>主版本号：当你做了不兼容的 API 修改，</li>
<li>次版本号：当你做了向下兼容的功能性新增，</li>
<li>修订号：当你做了向下兼容的问题修正。</li>
<li>先行版本号及版本编译元数据可以加到“主版本号.次版本号.修订号”的后面，作为延伸。</li>
</ol>
<h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>在软件管理的领域里存在着被称作“依赖地狱”的死亡之谷，系统规模越大，加入的包越多，你就越有可能在未来的某一天发现自己已深陷绝望之中。</p>
<p>在依赖高的系统中发布新版本包可能很快会成为噩梦。如果依赖关系过高，可能面临版本控制被锁死的风险（必须对每一个依赖包改版才能完成某次升级）。而如果依赖关系过于松散，又将无法避免版本的混乱（假设兼容于未来的多个版本已超出了合理数量）。当你专案的进展因为版本依赖被锁死或版本混乱变得不够简便和可靠，就意味着你正处于依赖地狱之中。</p>
<p>作为这个问题的解决方案之一，我提议用一组简单的规则及条件来约束版本号的配置和增长。这些规则是根据（但不局限于）已经被各种封闭、开放源码软件所广泛使用的惯例所设计。为了让这套理论运作，你必须先有定义好的公共 API 。这可以透过文件定义或代码强制要求来实现。无论如何，这套 API 的清楚明了是十分重要的。一旦你定义了公共 API，你就可以透过修改相应的版本号来向大家说明你的修改。考虑使用这样的版本号格式：X.Y.Z （主版本号.次版本号.修订号）修复问题但不影响API 时，递增修订号；API 保持向下兼容的新增及修改时，递增次版本号；进行不向下兼容的修改时，递增主版本号。</p>
<p>我称这套系统为“语义化的版本控制”，在这套约定下，版本号及其更新方式包含了相邻版本间的底层代码和修改内容的信息。</p>
<h3 id="语义化版本控制规范（SemVer）"><a href="#语义化版本控制规范（SemVer）" class="headerlink" title="语义化版本控制规范（SemVer）"></a>语义化版本控制规范（SemVer）</h3><p>以下关键词 MUST、MUST NOT、REQUIRED、SHALL、SHALL NOT、SHOULD、SHOULD NOT、 RECOMMENDED、MAY、OPTIONAL 依照 RFC 2119 的叙述解读。（译注：为了保持语句顺畅， 以下文件遇到的关键词将依照整句语义进行翻译，在此先不进行个别翻译。）</p>
<ol>
<li>使用语义化版本控制的软件必须（MUST）定义公共 API。该 API 可以在代码中被定义或出现于严谨的文件内。无论何种形式都应该力求精确且完整。</li>
<li>标准的版本号必须（MUST）采用 X.Y.Z 的格式，其中 X、Y 和 Z 为非负的整数，且禁止（MUST NOT）在数字前方补零。X 是主版本号、Y 是次版本号、而 Z 为修订号。每个元素必须（MUST）以数值来递增。例如：1.9.1 -&gt; 1.10.0 -&gt; 1.11.0。</li>
<li>标记版本号的软件发行后，禁止（MUST NOT）改变该版本软件的内容。任何修改都必须（MUST）以新版本发行。</li>
<li>主版本号为零（0.y.z）的软件处于开发初始阶段，一切都可能随时被改变。这样的公共 API 不应该被视为稳定版。</li>
<li>1.0.0 的版本号用于界定公共 API 的形成。这一版本之后所有的版本号更新都基于公共 API 及其修改内容。</li>
<li>修订号 Z（x.y.Z | x &gt; 0）必须（MUST）在只做了向下兼容的修正时才递增。这里的修正指的是针对不正确结果而进行的内部修改。</li>
<li>次版本号 Y（x.Y.z | x &gt; 0）必须（MUST）在有向下兼容的新功能出现时递增。在任何公共 API 的功能被标记为弃用时也必须（MUST）递增。也可以（MAY）在内部程序有大量新功能或改进被加入时递增，其中可以（MAY）包括修订级别的改变。每当次版本号递增时，修订号必须（MUST）归零。</li>
<li>主版本号 X（X.y.z | X &gt; 0）必须（MUST）在有任何不兼容的修改被加入公共 API 时递增。其中可以（MAY）包括次版本号及修订级别的改变。每当主版本号递增时，次版本号和修订号必须（MUST）归零。</li>
<li>先行版本号可以（MAY）被标注在修订版之后，先加上一个连接号再加上一连串以句点分隔的标识符来修饰。标识符必须（MUST）由 ASCII 字母数字和连接号 [0-9A-Za-z-] 组成，且禁止（MUST NOT）留白。数字型的标识符禁止（MUST NOT）在前方补零。先行版的优先级低于相关联的标准版本。被标上先行版本号则表示这个版本并非稳定而且可能无法满足预期的兼容性需求。范例：1.0.0-alpha、1.0.0-alpha.1、1.0.0-0.3.7、1.0.0-x.7.z.92。</li>
<li>版本编译元数据可以（MAY）被标注在修订版或先行版本号之后，先加上一个加号再加上一连串以句点分隔的标识符来修饰。标识符必须（MUST）由 ASCII 字母数字和连接号 [0-9A-Za-z-] 组成，且禁止（MUST NOT）留白。当判断版本的优先层级时，版本编译元数据可（SHOULD）被忽略。因此当两个版本只有在版本编译元数据有差别时，属于相同的优先层级。范例：1.0.0-alpha+001、1.0.0+20130313144700、1.0.0-beta+exp.sha.5114f85。</li>
<li>版本的优先层级指的是不同版本在排序时如何比较。判断优先层级时，必须（MUST）把版本依序拆分为主版本号、次版本号、修订号及先行版本号后进行比较（版本编译元数据不在这份比较的列表中）。由左到右依序比较每个标识符，第一个差异值用来决定优先层级：主版本号、次版本号及修订号以数值比较，例如：1.0.0 &lt; 2.0.0 &lt; 2.1.0 &lt; 2.1.1。当主版本号、次版本号及修订号都相同时，改以优先层级比较低的先行版本号决定。例如：1.0.0-alpha &lt; 1.0.0。有相同主版本号、次版本号及修订号的两个先行版本号，其优先层级必须（MUST）透过由左到右的每个被句点分隔的标识符来比较，直到找到一个差异值后决定：只有数字的标识符以数值高低比较，有字母或连接号时则逐字以 ASCII 的排序来比较。数字的标识符比非数字的标识符优先层级低。若开头的标识符都相同时，栏位比较多的先行版本号优先层级比较高。范例：1.0.0-alpha &lt; 1.0.0-alpha.1 &lt; 1.0.0-alpha.beta &lt; 1.0.0-beta &lt; 1.0.0-beta.2 &lt; 1.0.0-beta.11 &lt; 1.0.0-rc.1 &lt; 1.0.0。</li>
</ol>
<h3 id="为什么要使用语义化的版本控制？"><a href="#为什么要使用语义化的版本控制？" class="headerlink" title="为什么要使用语义化的版本控制？"></a>为什么要使用语义化的版本控制？</h3><p>这并不是一个新的或者革命性的想法。实际上，你可能已经在做一些近似的事情了。问题在于只是“近似”还不够。如果没有某个正式的规范可循，版本号对于依赖的管理并无实质意义。将上述的想法命名并给予清楚的定义，让你对软件使用者传达意向变得容易。一旦这些意向变得清楚，弹性（但又不会太弹性）的依赖规范就能达成。</p>
<p>举个简单的例子就可以展示语义化的版本控制如何让依赖地狱成为过去。假设有个名为“救火车”的函式库，它需要另一个名为“梯子”并已经有使用语义化版本控制的包。当救火车创建时，梯子的版本号为 3.1.0。因为救火车使用了一些版本 3.1.0 所新增的功能， 你可以放心地指定依赖于梯子的版本号大等于 3.1.0 但小于 4.0.0。这样，当梯子版本 3.1.1 和 3.2.0 发布时，你可以将直接它们纳入你的包管理系统，因为它们能与原有依赖的软件兼容。</p>
<p>作为一位负责任的开发者，你理当确保每次包升级的运作与版本号的表述一致。现实世界是复杂的，我们除了提高警觉外能做的不多。你所能做的就是让语义化的版本控制为你提供一个健全的方式来发行以及升级包，而无需推出新的依赖包，节省你的时间及烦恼。</p>
<p>如果你对此认同，希望立即开始使用语义化版本控制，你只需声明你的函式库正在使用它并遵循这些规则就可以了。请在你的 README 文件中保留此页连结，让别人也知道这些规则并从中受益。</p>
<h3 id="FAQ"><a href="#FAQ" class="headerlink" title="FAQ"></a>FAQ</h3><p>在 0.y.z 初始开发阶段，我该如何进行版本控制？<br>最简单的做法是以 0.1.0 作为你的初始化开发版本，并在后续的每次发行时递增次版本号。</p>
<h4 id="如何判断发布-1-0-0-版本的时机？"><a href="#如何判断发布-1-0-0-版本的时机？" class="headerlink" title="如何判断发布 1.0.0 版本的时机？"></a>如何判断发布 1.0.0 版本的时机？</h4><p>当你的软件被用于正式环境，它应该已经达到了 1.0.0 版。如果你已经有个稳定的 API 被使用者依赖，也会是 1.0.0 版。如果你很担心向下兼容的问题，也应该算是 1.0.0 版了。</p>
<h4 id="这不会阻碍快速开发和迭代吗？"><a href="#这不会阻碍快速开发和迭代吗？" class="headerlink" title="这不会阻碍快速开发和迭代吗？"></a>这不会阻碍快速开发和迭代吗？</h4><p>主版本号为零的时候就是为了做快速开发。如果你每天都在改变 API，那么你应该仍在主版本号为零的阶段（0.y.z），或是正在下个主版本的独立开发分支中。</p>
<h4 id="对于公共-API，若即使是最小但不向下兼容的改变都需要产生新的主版本号，岂不是很快就达到-42-0-0-版？"><a href="#对于公共-API，若即使是最小但不向下兼容的改变都需要产生新的主版本号，岂不是很快就达到-42-0-0-版？" class="headerlink" title="对于公共 API，若即使是最小但不向下兼容的改变都需要产生新的主版本号，岂不是很快就达到 42.0.0 版？"></a>对于公共 API，若即使是最小但不向下兼容的改变都需要产生新的主版本号，岂不是很快就达到 42.0.0 版？</h4><p>这是开发的责任感和前瞻性的问题。不兼容的改变不应该轻易被加入到有许多依赖代码的软件中。升级所付出的代价可能是巨大的。要递增主版本号来发行不兼容的改版，意味着你必须为这些改变所带来的影响深思熟虑，并且评估所涉及的成本及效益比。</p>
<h4 id="为整个公共-API-写文件太费事了！"><a href="#为整个公共-API-写文件太费事了！" class="headerlink" title="为整个公共 API 写文件太费事了！"></a>为整个公共 API 写文件太费事了！</h4><p>为供他人使用的软件编写适当的文件，是你作为一名专业开发者应尽的职责。保持专案高效一个非常重要的部份是掌控软件的复杂度，如果没有人知道如何使用你的软件或不知道哪些函数的调用是可靠的，要掌控复杂度会是困难的。长远来看，使用语义化版本控制以及对于公共 API 有良好规范的坚持，可以让每个人及每件事都运行顺畅。</p>
<h4 id="万一不小心把一个不兼容的改版当成了次版本号发行了该怎么办？"><a href="#万一不小心把一个不兼容的改版当成了次版本号发行了该怎么办？" class="headerlink" title="万一不小心把一个不兼容的改版当成了次版本号发行了该怎么办？"></a>万一不小心把一个不兼容的改版当成了次版本号发行了该怎么办？</h4><p>一旦发现自己破坏了语义化版本控制的规范，就要修正这个问题，并发行一个新的次版本号来更正这个问题并且恢复向下兼容。即使是这种情况，也不能去修改已发行的版本。可以的话，将有问题的版本号记录到文件中，告诉使用者问题所在，让他们能够意识到这是有问题的版本。</p>
<h4 id="如果我更新了自己的依赖但没有改变公共-API-该怎么办？"><a href="#如果我更新了自己的依赖但没有改变公共-API-该怎么办？" class="headerlink" title="如果我更新了自己的依赖但没有改变公共 API 该怎么办？"></a>如果我更新了自己的依赖但没有改变公共 API 该怎么办？</h4><p>由于没有影响到公共 API，这可以被认定是兼容的。若某个软件和你的包有共同依赖，则它会有自己的依赖规范，作者也会告知可能的冲突。要判断改版是属于修订等级或是次版等级，是依据你更新的依赖关系是为了修复问题或是加入新功能。对于后者，我经常会预期伴随着更多的代码，这显然会是一个次版本号级别的递增。</p>
<h4 id="如果我变更了公共-API-但无意中未遵循版本号的改动怎么办呢？（意即在修订等级的发布中，误将重大且不兼容的改变加到代码之中）"><a href="#如果我变更了公共-API-但无意中未遵循版本号的改动怎么办呢？（意即在修订等级的发布中，误将重大且不兼容的改变加到代码之中）" class="headerlink" title="如果我变更了公共 API 但无意中未遵循版本号的改动怎么办呢？（意即在修订等级的发布中，误将重大且不兼容的改变加到代码之中）"></a>如果我变更了公共 API 但无意中未遵循版本号的改动怎么办呢？（意即在修订等级的发布中，误将重大且不兼容的改变加到代码之中）</h4><p>自行做最佳的判断。如果你有庞大的使用者群在依照公共 API 的意图而变更行为后会大受影响，那么最好做一次主版本的发布，即使严格来说这个修复仅是修订等级的发布。记住， 语义化的版本控制就是透过版本号的改变来传达意义。若这些改变对你的使用者是重要的，那就透过版本号来向他们说明。</p>
<h4 id="我该如何处理即将弃用的功能？"><a href="#我该如何处理即将弃用的功能？" class="headerlink" title="我该如何处理即将弃用的功能？"></a>我该如何处理即将弃用的功能？</h4><p>弃用现存的功能是软件开发中的家常便饭，也通常是向前发展所必须的。当你弃用部份公共 API 时，你应该做两件事：（1）更新你的文件让使用者知道这个改变，（2）在适当的时机将弃用的功能透过新的次版本号发布。在新的主版本完全移除弃用功能前，至少要有一个次版本包含这个弃用信息，这样使用者才能平顺地转移到新版 API。</p>
<h4 id="语义化版本对于版本的字串长度是否有限制呢？"><a href="#语义化版本对于版本的字串长度是否有限制呢？" class="headerlink" title="语义化版本对于版本的字串长度是否有限制呢？"></a>语义化版本对于版本的字串长度是否有限制呢？</h4><p>没有，请自行做适当的判断。举例来说，长到 255 个字元的版本已过度夸张。再者，特定的系统对于字串长度可能会有他们自己的限制。</p>

      
    </div>

    

    
    
    

    

    
      
    
    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div></div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>赏个钱儿</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/wechatpay.jpg" alt="倦鸟 微信支付">
        <p>微信支付</p>
      </div>
    

    

    

  </div>
</div>

      </div>
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/git-gitlab/" rel="tag"># git, gitlab</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/01/25/零/" rel="next" title="零">
                <i class="fa fa-chevron-left"></i> 零
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  
    <div class="comments" id="comments">
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="倦鸟">
            
              <p class="site-author-name" itemprop="name">倦鸟</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">2</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">2</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                    <span class="site-state-item-count">1</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/proclinux" title="GitHub &rarr; https://github.com/proclinux" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="mailto:proclinux@gmail.com" title="E-Mail &rarr; mailto:proclinux@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://plus.google.com/proclinux" title="Google &rarr; https://plus.google.com/proclinux" rel="noopener" target="_blank"><i class="fa fa-fw fa-google"></i>Google</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Git简介"><span class="nav-number">1.</span> <span class="nav-text">Git简介</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#主要功能"><span class="nav-number">1.1.</span> <span class="nav-text">主要功能</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#目录库"><span class="nav-number">1.2.</span> <span class="nav-text">目录库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Git工作区"><span class="nav-number">1.3.</span> <span class="nav-text">Git工作区</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Git文件状态"><span class="nav-number">1.4.</span> <span class="nav-text">Git文件状态</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Git自定义设置"><span class="nav-number">2.</span> <span class="nav-text">Git自定义设置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#用户信息"><span class="nav-number">2.1.</span> <span class="nav-text">用户信息</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#外部的合并与比较工"><span class="nav-number">2.2.</span> <span class="nav-text">外部的合并与比较工</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#回车和换行"><span class="nav-number">2.3.</span> <span class="nav-text">回车和换行</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#设置注释模版"><span class="nav-number">2.4.</span> <span class="nav-text">设置注释模版</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#设置过滤文件"><span class="nav-number">2.5.</span> <span class="nav-text">设置过滤文件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#忽略文件"><span class="nav-number">2.5.1.</span> <span class="nav-text">忽略文件</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#配置ssh-key"><span class="nav-number">2.6.</span> <span class="nav-text">配置ssh key</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Git基本命令"><span class="nav-number">3.</span> <span class="nav-text">Git基本命令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#获取仓库"><span class="nav-number">3.1.</span> <span class="nav-text">获取仓库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#更新仓库"><span class="nav-number">3.2.</span> <span class="nav-text">更新仓库</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#查看文件状态"><span class="nav-number">3.2.1.</span> <span class="nav-text">查看文件状态</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#跟踪新文件"><span class="nav-number">3.2.2.</span> <span class="nav-text">跟踪新文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#提交更新"><span class="nav-number">3.2.3.</span> <span class="nav-text">提交更新</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#查看已暂存和未暂存的修改"><span class="nav-number">3.2.4.</span> <span class="nav-text">查看已暂存和未暂存的修改</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#移除文件"><span class="nav-number">3.2.5.</span> <span class="nav-text">移除文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#移动文件"><span class="nav-number">3.2.6.</span> <span class="nav-text">移动文件</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#存储"><span class="nav-number">3.3.</span> <span class="nav-text">存储</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#存储工作"><span class="nav-number">3.3.1.</span> <span class="nav-text">存储工作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#取消应用存储"><span class="nav-number">3.3.2.</span> <span class="nav-text">取消应用存储</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#创建存储分支"><span class="nav-number">3.3.3.</span> <span class="nav-text">创建存储分支</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#查看提交历史"><span class="nav-number">3.4.</span> <span class="nav-text">查看提交历史</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#撤销操作"><span class="nav-number">3.5.</span> <span class="nav-text">撤销操作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#覆盖提交"><span class="nav-number">3.5.1.</span> <span class="nav-text">覆盖提交</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#取消暂存文件"><span class="nav-number">3.5.2.</span> <span class="nav-text">取消暂存文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#撤销对文件的修改"><span class="nav-number">3.5.3.</span> <span class="nav-text">撤销对文件的修改</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#远程仓库的使用"><span class="nav-number">3.6.</span> <span class="nav-text">远程仓库的使用</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#查看远程仓库"><span class="nav-number">3.6.1.</span> <span class="nav-text">查看远程仓库</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#添加远程库"><span class="nav-number">3.6.2.</span> <span class="nav-text">添加远程库</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#拉取取数据"><span class="nav-number">3.6.3.</span> <span class="nav-text">拉取取数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#推送到远程仓库"><span class="nav-number">3.6.4.</span> <span class="nav-text">推送到远程仓库</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#查看远程仓库-1"><span class="nav-number">3.6.5.</span> <span class="nav-text">查看远程仓库</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#远程仓库移除与重命名"><span class="nav-number">3.6.6.</span> <span class="nav-text">远程仓库移除与重命名</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#标签管理"><span class="nav-number">3.7.</span> <span class="nav-text">标签管理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#列出标签"><span class="nav-number">3.7.1.</span> <span class="nav-text">列出标签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#创建标签"><span class="nav-number">3.7.2.</span> <span class="nav-text">创建标签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#共享标签"><span class="nav-number">3.7.3.</span> <span class="nav-text">共享标签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#删除标签"><span class="nav-number">3.7.4.</span> <span class="nav-text">删除标签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#检出标签"><span class="nav-number">3.7.5.</span> <span class="nav-text">检出标签</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#分支管理"><span class="nav-number">3.8.</span> <span class="nav-text">分支管理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#查看分支"><span class="nav-number">3.8.1.</span> <span class="nav-text">查看分支</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#创建分支"><span class="nav-number">3.8.2.</span> <span class="nav-text">创建分支</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#推送分支"><span class="nav-number">3.8.3.</span> <span class="nav-text">推送分支</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#跟踪分支"><span class="nav-number">3.8.4.</span> <span class="nav-text">跟踪分支</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#删除远程分支"><span class="nav-number">3.8.5.</span> <span class="nav-text">删除远程分支</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#变基"><span class="nav-number">3.9.</span> <span class="nav-text">变基</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#GitLab管理"><span class="nav-number">4.</span> <span class="nav-text">GitLab管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#分支"><span class="nav-number">4.1.</span> <span class="nav-text">分支</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#开发流程"><span class="nav-number">4.2.</span> <span class="nav-text">开发流程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#紧急bug修复"><span class="nav-number">4.3.</span> <span class="nav-text">紧急bug修复</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#使用规范"><span class="nav-number">5.</span> <span class="nav-text">使用规范</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#准则"><span class="nav-number">5.1.</span> <span class="nav-text">准则</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#语义化版本-2-0-0"><span class="nav-number">6.</span> <span class="nav-text">语义化版本 2.0.0</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#摘要"><span class="nav-number">6.1.</span> <span class="nav-text">摘要</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#简介"><span class="nav-number">6.2.</span> <span class="nav-text">简介</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#语义化版本控制规范（SemVer）"><span class="nav-number">6.3.</span> <span class="nav-text">语义化版本控制规范（SemVer）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#为什么要使用语义化的版本控制？"><span class="nav-number">6.4.</span> <span class="nav-text">为什么要使用语义化的版本控制？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#FAQ"><span class="nav-number">6.5.</span> <span class="nav-text">FAQ</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#如何判断发布-1-0-0-版本的时机？"><span class="nav-number">6.5.1.</span> <span class="nav-text">如何判断发布 1.0.0 版本的时机？</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#这不会阻碍快速开发和迭代吗？"><span class="nav-number">6.5.2.</span> <span class="nav-text">这不会阻碍快速开发和迭代吗？</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#对于公共-API，若即使是最小但不向下兼容的改变都需要产生新的主版本号，岂不是很快就达到-42-0-0-版？"><span class="nav-number">6.5.3.</span> <span class="nav-text">对于公共 API，若即使是最小但不向下兼容的改变都需要产生新的主版本号，岂不是很快就达到 42.0.0 版？</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#为整个公共-API-写文件太费事了！"><span class="nav-number">6.5.4.</span> <span class="nav-text">为整个公共 API 写文件太费事了！</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#万一不小心把一个不兼容的改版当成了次版本号发行了该怎么办？"><span class="nav-number">6.5.5.</span> <span class="nav-text">万一不小心把一个不兼容的改版当成了次版本号发行了该怎么办？</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#如果我更新了自己的依赖但没有改变公共-API-该怎么办？"><span class="nav-number">6.5.6.</span> <span class="nav-text">如果我更新了自己的依赖但没有改变公共 API 该怎么办？</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#如果我变更了公共-API-但无意中未遵循版本号的改动怎么办呢？（意即在修订等级的发布中，误将重大且不兼容的改变加到代码之中）"><span class="nav-number">6.5.7.</span> <span class="nav-text">如果我变更了公共 API 但无意中未遵循版本号的改动怎么办呢？（意即在修订等级的发布中，误将重大且不兼容的改变加到代码之中）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#我该如何处理即将弃用的功能？"><span class="nav-number">6.5.8.</span> <span class="nav-text">我该如何处理即将弃用的功能？</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#语义化版本对于版本的字串长度是否有限制呢？"><span class="nav-number">6.5.9.</span> <span class="nav-text">语义化版本对于版本的字串长度是否有限制呢？</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">proclinux</span>

  

  
</div>








  <div class="footer-custom">路曼曼其脩遠兮，吾將上下而求索 - <a href="https://zh.wikisource.org/zh/%E9%9B%A2%E9%A8%B7" class="theme-link" rel="noopener" target="_blank">《离骚》</a></div>


        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="post-meta-item-icon">
      <i class="fa fa-user"></i>
    </span>
    <span class="site-uv" title="总访客量">
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
    </span>
  

  
    <span class="post-meta-divider">|</span>
  

  
    <span class="post-meta-item-icon">
      <i class="fa fa-eye"></i>
    </span>
    <span class="site-pv" title="总访问量">
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
    </span>
  
</div>









        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  


  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=6.7.0"></script>

  <script src="/js/src/motion.js?v=6.7.0"></script>



  
  


  <script src="/js/src/schemes/muse.js?v=6.7.0"></script>




  
  <script src="/js/src/scrollspy.js?v=6.7.0"></script>
<script src="/js/src/post-details.js?v=6.7.0"></script>
<script type="text/javascript" src="/js/src/photoswipe.min.js?v="></script>
<script type="text/javascript" src="/js/src/photoswipe-ui-default.min.js?v="></script>




  


  <script src="/js/src/bootstrap.js?v=6.7.0"></script>



  
  

<script src="//cdn1.lncld.net/static/js/3.11.1/av-min.js"></script>



<script src="//unpkg.com/valine/dist/Valine.min.js"></script>

<script>
  var GUEST = ['nick', 'mail', 'link'];
  var guest = 'nick,mail,link';
  guest = guest.split(',').filter(function(item) {
    return GUEST.indexOf(item) > -1;
  });
  new Valine({
    el: '#comments',
    verify: false,
    notify: false,
    appId: '1oKuMScoL45DSsBtjmBdryAe-gzGzoHsz',
    appKey: 'wBfAHIGKKnqnM0tCSW0etFRW',
    placeholder: 'Just go go',
    avatar: 'mm',
    meta: guest,
    pageSize: '10' || 10,
    visitor: false
  });
</script>




  


  

  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
